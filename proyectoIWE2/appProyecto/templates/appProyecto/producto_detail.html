{% extends "base.html" %} {% block titulo %} Producto| {{ producto.nombre}}
{%endblock %} {% block contenido %}
<h1>Detalle del Producto</h1>
<div class="descripcion">
  {% if producto %}
  <h2>{{ producto.nombre}} - {{ producto.precio}}â‚¬</h2>

  <p>{{ producto.descripcion}}</p>
  <p>Categoria: {{ producto.categoria}}</p>

  <a href="/appProyecto/productos/{{producto.id}}/delete/" class="button"> Borrar</a>
  <a href="/appProyecto/productos/{{producto.id}}/update/" class="button"> Actualizar</a>

  <h2>Componentes:</h2>
  <table class="paleBlueRows">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Marca</th>
        <th>Cantidad</th>
      </tr>
    </thead>
    <tbody>
      {% for elemento in elementos %}
      <tr>
        <td>
          <a href="{% url 'detalle componentes' elemento.id_componente.pk %}">
            {{ elemento.id_componente.nombre }}
          </a>
        </td>
        <td>{{ elemento.id_componente.marca }}</td>
        <td>{{ elemento.cantidad }}</td>
        <td> <form action="{% url 'borrar elemento' elemento.pk %}" method="POST">
            {% csrf_token %}
            <button type="submit" class="button">Borrar</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h2>Agregar Componente:</h2>
    <form method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit">Agregar</button>
    </form>

    
  <h2>Todos los productos:</h2>
  <ul>
    {% for p in productos %}
      <li><a href="{% url 'detalle producto' p.pk %}">{{ p.nombre }}</a></li>
    {% endfor %}
  </ul>


  {% else %}
  <p>No existe este producto.</p>
  {% endif %}
</div>

{% endblock %}
